(this["webpackJsonpJoinSidr-client"]=this["webpackJsonpJoinSidr-client"]||[]).push([[0],{111:function(e,t,n){},169:function(e,t,n){},175:function(e,t,n){},178:function(e,t,n){},179:function(e,t,n){},180:function(e,t,n){},200:function(e,t,n){},230:function(e,t,n){},231:function(e,t,n){},232:function(e,t,n){},233:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),i=n(12),s=n.n(i),r=(n(169),n(67)),o=n(64),l=n.n(o),j=n(86),d=n(16),u=n(15),h=n(13),b=n(17),p=n(275),m=n(278),x=n(1);var O=function(e){return e.user,Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)(p.a,{container:!0,direction:"column",justify:"center",alignItems:"stretch",children:[Object(x.jsx)(p.a,{item:!0,xs:12,sm:6,children:Object(x.jsx)("h1",{children:"Share your portfolio and Join the community"})}),Object(x.jsx)(p.a,{item:!0,xs:12,children:Object(x.jsx)("p",{children:"Hello Yanis and Taka"})}),Object(x.jsx)(p.a,{item:!0,xs:12,children:Object(x.jsx)(m.a,{variant:"contained",color:"primary",children:"SignUp"})})]})})},g=n(279),f=n(18),v=n(284),y=n(285),N=n(282),w=n(77),k=n(283),C=n(281),S=n(148),L=n(76),I=n.n(L),_=n(91),U=n.n(_),D=n(103),E=n.n(D),B=n(140),P=n.n(B),F=n(8),T=(n(175),Object(g.a)((function(e){return{grow:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:Object(d.a)({display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:Object(d.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(f.b)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(f.b)(e.palette.common.white,.25)},marginRight:e.spacing(2),marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(3),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(d.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:"20ch"}),sectionDesktop:Object(d.a)({display:"none"},e.breakpoints.up("md"),{display:"flex"}),sectionMobile:Object(d.a)({display:"flex"},e.breakpoints.up("md"),{display:"none"})}})));function M(e){var t=T(),n=a.a.useState(null),c=Object(h.a)(n,2),i=c[0],s=c[1],r=a.a.useState(null),o=Object(h.a)(r,2),l=o[0],j=o[1],d=Boolean(i),u=Boolean(l),b=e.user,p=e.onLogout,O=function(e){s(e.currentTarget)},g=function(){j(null)},f=function(){s(null),g()},L="primary-search-account-menu",_=Object(x.jsxs)(S.a,{anchorEl:i,anchorOrigin:{vertical:"top",horizontal:"right"},id:L,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:d,onClose:f,children:[Object(x.jsx)(C.a,{onClick:f,children:Object(x.jsx)(F.b,{className:"link-profile",to:"/profile",children:"Profile"})}),Object(x.jsx)(C.a,{onClick:f,children:Object(x.jsx)(F.b,{className:"link-profile",to:"/settings",children:"Settings"})}),Object(x.jsx)(C.a,{onClick:f,children:Object(x.jsx)(F.b,{className:"link-profile",to:"/userslist",children:"messages"})}),Object(x.jsx)(C.a,{onClick:f,children:Object(x.jsx)(m.a,{onClick:p,variant:"contained",color:"secondary",children:"Logout"})})]}),D="primary-search-account-menu-mobile",B=Object(x.jsxs)(S.a,{anchorEl:l,anchorOrigin:{vertical:"top",horizontal:"right"},id:D,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:u,onClose:g,children:[Object(x.jsxs)(C.a,{children:[Object(x.jsx)(N.a,{"aria-label":"show 4 new mails",color:"inherit",children:Object(x.jsx)(k.a,{badgeContent:4,color:"secondary",children:Object(x.jsx)(U.a,{})})}),Object(x.jsx)("p",{children:"Messages"})]}),Object(x.jsxs)(C.a,{children:[Object(x.jsx)(N.a,{"aria-label":"show 11 new notifications",color:"inherit",children:Object(x.jsx)(k.a,{badgeContent:11,color:"secondary",children:Object(x.jsx)(E.a,{})})}),Object(x.jsx)("p",{children:"Notifications"})]}),Object(x.jsxs)(C.a,{onClick:O,children:[Object(x.jsx)(N.a,{"aria-label":"account of current user","aria-controls":"primary-search-account-menu","aria-haspopup":"true",color:"inherit",children:Object(x.jsx)(I.a,{})}),Object(x.jsx)("p",{children:"Profile"})]})]});return Object(x.jsxs)("div",{className:t.grow,children:[Object(x.jsx)(v.a,{position:"static",children:Object(x.jsxs)(y.a,{children:[Object(x.jsx)(w.a,{className:t.title,variant:"h6",noWrap:!0,children:Object(x.jsx)(F.b,{to:"/",className:"link",color:"inherit",children:"JoinSidr"})}),Object(x.jsx)("div",{className:t.grow}),Object(x.jsxs)("div",{className:t.sectionDesktop,children:[Object(x.jsx)(w.a,{className:(t.title,"navItem"),variant:"h6",noWrap:!0,color:"inherit",children:Object(x.jsx)(F.b,{to:"/trends",className:"slide-bar",color:"inherit",children:"Trending projects "})}),b?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(F.b,{to:"/userslist",className:"slide-bar-icon",color:"inherit",children:Object(x.jsx)(N.a,{"aria-label":"show 4 new mails",color:"inherit",children:Object(x.jsx)(k.a,{badgeContent:4,color:"secondary",children:Object(x.jsx)(U.a,{})})})}),Object(x.jsx)(N.a,{"aria-label":"show 17 new notifications",color:"inherit",children:Object(x.jsx)(k.a,{badgeContent:17,color:"secondary",children:Object(x.jsx)(E.a,{})})}),Object(x.jsx)(N.a,{edge:"end","aria-label":"account of current user","aria-controls":L,"aria-haspopup":"true",onClick:O,color:"inherit",children:Object(x.jsx)(I.a,{})})]}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(w.a,{className:(t.title,"navItem"),variant:"h6",noWrap:!0,color:"inherit",children:Object(x.jsx)(F.b,{to:"/signin",className:"slide-bar",color:"inherit",children:"Sign in "})}),Object(x.jsx)(w.a,{className:(t.title,"navItem"),variant:"h6",noWrap:!0,color:"inherit",children:Object(x.jsx)(F.b,{to:"/signup",className:"slide-bar",color:"inherit",children:"Sign up "})})]})]}),Object(x.jsx)("div",{className:t.sectionMobile,children:Object(x.jsx)(N.a,{"aria-label":"show more","aria-controls":D,"aria-haspopup":"true",onClick:function(e){j(e.currentTarget)},color:"inherit",children:Object(x.jsx)(P.a,{})})})]})}),B,_]})}var R=n(20),W=n(286),G=n(280),A=n(237),J=n(287),V=n(288),Y=n(294),q=n(296),H=n(99),z=n.n(H),K=n(144),Q=n.n(K),X=n(143),Z=n.n(X),$=n(142),ee=n.n($),te=n(141),ne=n.n(te),ce=(n(178),240),ae=Object(g.a)((function(e){return{root:{display:"flex"},drawer:Object(d.a)({},e.breakpoints.up("sm"),{width:ce,flexShrink:0}),appBar:Object(d.a)({},e.breakpoints.up("sm"),{width:"calc(100% - ".concat(ce,"px)"),marginLeft:ce}),menuButton:Object(d.a)({marginRight:e.spacing(2)},e.breakpoints.up("sm"),{display:"none"}),toolbar:e.mixins.toolbar,drawerPaper:{width:ce},content:{flexGrow:1,padding:e.spacing(3)},paper:{padding:e.spacing(0),color:e.palette.text.secondary,width:"100%"},image:{width:"100%",height:300},h3:{margin:5,color:e.palette.text.secondary}}}));var ie=function(e){var t=e.window,n=e.user,c=e.projects,i=e.onLogout,s=e.allUsers,r=ae(),o=Object(R.a)(),l=a.a.useState(!1),j=Object(h.a)(l,2),d=j[0],u=j[1];if(!c||!n)return Object(x.jsx)("p",{children:"Loading . . ."});var b=c.filter((function(e){return e.user._id==n._id})),m=0;s.forEach((function(e){e.follow.includes(n._id)&&m++}));var O=function(){u(!d)},g=Object(x.jsxs)("div",{children:[Object(x.jsx)("div",{className:r.toolbar,style:{display:"flex",alignContent:"center",justifyContent:"center",alignItems:"center"},children:Object(x.jsx)(F.b,{className:"linkLogo",to:"/",children:Object(x.jsx)("h1",{className:"logo",children:"JoinSidr"})})}),Object(x.jsx)(W.a,{}),Object(x.jsxs)("div",{className:"infoProfile",children:[Object(x.jsx)("img",{className:"profilePic",src:n.profilePic,alt:n.username}),Object(x.jsx)("h2",{children:n.username}),Object(x.jsxs)("div",{className:"countryBox",children:[Object(x.jsx)(ne.a,{style:{width:20}}),Object(x.jsx)("h5",{className:"country",children:n.country})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("button",{className:"followBtn",children:"Follow"}),Object(x.jsxs)("button",{className:"msgBtn",children:[" ",Object(x.jsx)(F.b,{to:"/userslist",children:"Message"})]})]})]}),Object(x.jsxs)(G.a,{children:[Object(x.jsxs)(A.a,{children:[Object(x.jsx)(J.a,{children:"Followers"}),m]}),Object(x.jsxs)(A.a,{children:[Object(x.jsx)(J.a,{children:"Following"}),n.follow.length]})]}),Object(x.jsx)(W.a,{}),Object(x.jsxs)(G.a,{children:[Object(x.jsx)(F.b,{className:"linkIcon",to:"/userslist",children:Object(x.jsxs)(A.a,{children:[Object(x.jsx)(ee.a,{className:"iconSpace"}),Object(x.jsx)(J.a,{className:"iconSpace",children:"Messages"})]})}),Object(x.jsx)(F.b,{className:"linkIcon",to:"/security",children:Object(x.jsxs)(A.a,{children:[Object(x.jsx)(I.a,{className:"iconSpace"}),Object(x.jsx)(J.a,{className:"iconSpace",children:"Account"})]})}),Object(x.jsx)(F.b,{className:"linkIcon",to:"/settings",children:Object(x.jsxs)(A.a,{children:[Object(x.jsx)(Z.a,{className:"iconSpace"}),Object(x.jsx)(J.a,{className:"iconSpace",children:"Settings"})]})}),Object(x.jsx)("button",{onClick:i,className:"btnLogOut",children:Object(x.jsxs)(A.a,{children:[Object(x.jsx)(Q.a,{className:"iconSpace"}),Object(x.jsx)(J.a,{className:"iconSpace",children:"Log out"})]})})]})]}),f=void 0!==t?function(){return t().document.body}:void 0;return Object(x.jsxs)("div",{className:r.root,children:[Object(x.jsx)(V.a,{}),Object(x.jsx)(v.a,{position:"fixed",className:r.appBar,children:Object(x.jsxs)(y.a,{children:[Object(x.jsx)(N.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:O,className:r.menuButton,children:Object(x.jsx)(z.a,{})}),Object(x.jsxs)(w.a,{variant:"h6",noWrap:!0,children:["Welcome ",n.username]}),Object(x.jsx)(w.a,{className:(r.title,"navItem"),variant:"h6",noWrap:!0,color:"inherit",children:Object(x.jsx)(F.b,{to:"/trends",className:"slide-bar",color:"inherit",children:"Trending projects "})})]})}),Object(x.jsxs)("nav",{className:r.drawer,"aria-label":"mailbox folders",children:[Object(x.jsx)(Y.a,{smUp:!0,implementation:"css",children:Object(x.jsx)(q.a,{container:f,variant:"temporary",anchor:"rtl"===o.direction?"right":"left",open:d,onClose:O,classes:{paper:r.drawerPaper},ModalProps:{keepMounted:!0},children:g})}),Object(x.jsx)(Y.a,{xsDown:!0,implementation:"css",children:Object(x.jsx)(q.a,{classes:{paper:r.drawerPaper},variant:"permanent",open:!0,children:g})})]}),Object(x.jsxs)("main",{className:r.content,children:[Object(x.jsx)("div",{className:r.toolbar}),Object(x.jsxs)(p.a,{container:!0,spacing:5,children:[Object(x.jsx)(p.a,{className:"uploadBox",item:!0,xs:12,sm:12,md:6,lg:4,children:Object(x.jsxs)("div",{className:"upload",children:[Object(x.jsx)("h2",{children:"Upload your Project"}),Object(x.jsxs)("div",{children:[Object(x.jsx)("p",{children:"Show off your best work, and be part of a growing community"}),Object(x.jsx)(F.b,{className:"uploadLink",to:"/project-create",children:"Add project"})]})]})}),b.map((function(e){return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)(p.a,{className:"box",item:!0,xs:12,sm:12,md:6,lg:4,children:[Object(x.jsx)("div",{className:"imgBox",children:Object(x.jsx)("img",{className:"imgProject",src:e.image,alt:e.image})}),Object(x.jsx)(F.b,{className:"link",to:"/project/".concat(e._id),children:Object(x.jsx)("div",{className:"details",children:Object(x.jsx)("div",{className:"content",children:Object(x.jsx)("h2",{children:e.title})})})})]},e._id)})}))]})]})]})};var se=function(e){var t=e.user,n=e.projects,c=e.onLogout,a=e.allUsers;return n?Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(ie,{user:t,projects:n,allUsers:a,onLogout:c})}):Object(x.jsx)("h1",{children:"Loading"})},re=n(298),oe=n(292),le=n(290),je=n(295),de=n(291),ue=n(92),he=n.n(ue),be=n(289);n(179);function pe(){return Object(x.jsxs)(w.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(x.jsx)(F.b,{color:"inherit",href:"https://material-ui.com/",children:"JoinSidr"})," ",(new Date).getFullYear(),"."]})}var me=Object(g.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));var xe=function(e){var t=me(),n=e.onSignIn,c=e.error;return Object(x.jsxs)(be.a,{component:"main",maxWidth:"xs",children:[Object(x.jsx)(V.a,{}),Object(x.jsxs)("div",{className:t.paper,children:[Object(x.jsx)(re.a,{className:t.avatar,children:Object(x.jsx)(he.a,{})}),Object(x.jsx)(w.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(x.jsxs)("form",{onSubmit:n,className:t.form,noValidate:!0,children:[Object(x.jsx)(oe.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0}),Object(x.jsx)(oe.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"}),Object(x.jsx)(le.a,{control:Object(x.jsx)(je.a,{value:"remember",color:"primary"}),label:"Remember me"}),Object(x.jsx)(m.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,children:"Sign In"}),c&&Object(x.jsx)("p",{style:{color:"red"},children:c}),Object(x.jsxs)(p.a,{container:!0,children:[Object(x.jsx)(p.a,{item:!0,xs:!0,children:Object(x.jsx)(F.b,{href:"#",variant:"body2",children:"Forgot password?"})}),Object(x.jsx)(p.a,{item:!0,children:Object(x.jsx)(F.b,{className:"link-profile",to:"/signup",variant:"body2",children:"Don't have an account? Sign Up"})})]})]})]}),Object(x.jsx)(de.a,{mt:8,children:Object(x.jsx)(pe,{})})]})},Oe=(n(180),n(145)),ge=n.n(Oe);var fe=function(e){var t=e.onSuccess,n=e.onFailure;return Object(x.jsx)("div",{children:Object(x.jsx)(ge.a,{clientId:"707533939431-o4qrrtj8dktimej5ij864bri1umm49g4.apps.googleusercontent.com",buttonText:"Login",onSuccess:t,onFailure:n,cookiePolicy:"single_host_origin"})})},ve=n(60),ye=n(61),Ne=n(63),we=n(62),ke=n(149),Ce=n(100),Se=function(e){Object(Ne.a)(n,e);var t=Object(we.a)(n);function n(){return Object(ve.a)(this,n),t.apply(this,arguments)}return Object(ye.a)(n,[{key:"render",value:function(){var e=this.props,t=e.onSuccess,n=e.onFailure;return Object(x.jsx)("div",{children:Object(x.jsx)(ke.a,{clientId:"78ehlghrz59uta",onFailure:n,onSuccess:t,scope:"r_liteprofile r_emailaddress",redirectUri:"http://localhost:3000/profile",children:Object(x.jsx)("img",{src:Ce.default,alt:"Log in with Linked In",style:{maxWidth:"180px"}})})})}}]),n}(c.Component);function Le(){return Object(x.jsxs)(w.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(x.jsx)(F.b,{color:"inherit",href:"https://material-ui.com/",children:"Your Website"})," ",(new Date).getFullYear(),"."]})}var Ie=Object(g.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}));var _e=function(e){var t=Ie(),n=e.onSubmit,c=e.error,a=e.onGoogleSuccess,i=e.onGoogleFailure,s=e.onLinkedInSuccess,r=e.onLinkedInFailure;return Object(x.jsxs)(be.a,{component:"main",maxWidth:"xs",children:[Object(x.jsx)(V.a,{}),Object(x.jsxs)("div",{className:t.paper,children:[Object(x.jsx)(re.a,{className:t.avatar,children:Object(x.jsx)(he.a,{})}),Object(x.jsx)(w.a,{component:"h1",variant:"h5",children:"Sign up"}),Object(x.jsxs)("form",{onSubmit:n,className:t.form,noValidate:!0,children:[Object(x.jsxs)(p.a,{container:!0,spacing:2,children:[Object(x.jsx)(p.a,{item:!0,xs:12,children:Object(x.jsx)(oe.a,{autoComplete:"uname",name:"username",variant:"outlined",required:!0,fullWidth:!0,id:"username",label:"username",autoFocus:!0})}),Object(x.jsx)(p.a,{item:!0,xs:12,children:Object(x.jsx)(oe.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email"})}),Object(x.jsx)(p.a,{item:!0,xs:12,children:Object(x.jsx)(oe.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"})})]}),Object(x.jsx)(m.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,children:Object(x.jsx)("span",{children:"Sign Up"})}),Object(x.jsx)(fe,{onSuccess:a,onFailure:i}),Object(x.jsx)(Se,{onSuccess:s,onFailure:r}),c&&Object(x.jsx)("p",{style:{color:"red"},children:c}),Object(x.jsx)(p.a,{container:!0,justify:"flex-end",children:Object(x.jsx)(p.a,{item:!0,children:Object(x.jsx)(F.b,{className:"link-profile",to:"/signin",variant:"body2",children:"Already have an account? Sign in"})})})]})]}),Object(x.jsx)(de.a,{mt:5,children:Object(x.jsx)(Le,{})})]})};n(111);var Ue=function(e){var t=e.onAdd;return Object(x.jsx)(be.a,{className:"center",style:{width:"80%"},fixed:!0,children:Object(x.jsxs)(p.a,{className:"centerBlock",container:!0,spacing:2,children:[Object(x.jsx)("h1",{children:"Upload your project"}),Object(x.jsx)("form",{onSubmit:t,children:Object(x.jsxs)("div",{className:"centerGrid",children:[Object(x.jsxs)(p.a,{className:"imgDisplay",item:!0,xs:6,children:[Object(x.jsx)("div",{className:"centerImg",children:Object(x.jsx)("img",{id:"file-ip-prev"})}),Object(x.jsxs)("div",{className:"inputUpload",children:[Object(x.jsx)("label",{for:"file-ip",children:"Upload Image"}),Object(x.jsx)("input",{onChange:function(e){if(e.target.files.length>0){var t=URL.createObjectURL(e.target.files[0]),n=document.getElementById("file-ip-prev");n.src=t,n.style.display="block"}},name:"image",id:"file-ip",type:"file",accept:"image/jpeg, image/png"})]})]}),Object(x.jsx)(p.a,{className:"infoGrid",item:!0,xs:6,children:Object(x.jsxs)("div",{className:"labelLigne",children:[Object(x.jsx)("label",{for:"title",children:"Title"}),Object(x.jsx)("input",{name:"title",id:"title",type:"text",placeholder:"Project title"}),Object(x.jsx)("label",{for:"type",children:"Type"}),Object(x.jsx)("input",{name:"type",id:"type",type:"text",placeholder:"Enter type"}),Object(x.jsx)("label",{for:"description",children:"Description"}),Object(x.jsx)("textarea",{name:"description",id:"description",type:"text",placeholder:"Project description"}),Object(x.jsx)("div",{children:Object(x.jsx)("button",{type:"submit",children:"Add project"})})]})})]})})]})})},De=n(11),Ee=n.n(De),Be="https://joinsidr.herokuapp.com",Pe=(n(200),n(147)),Fe=n.n(Pe),Te="",Me=function(e){Object(Ne.a)(n,e);var t=Object(we.a)(n);function n(){var e;Object(ve.a)(this,n);for(var c=arguments.length,i=new Array(c),s=0;s<c;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).messagesEnd=a.a.createRef(),e.state={loading:!0,messageList:[],currentMessage:""},e.scrollToBottom=function(){e.messagesEnd.scrollIntoView({behavior:"smooth"})},e.handleMessageInput=function(t){e.setState({currentMessage:t.target.value})},e.sendMessage=Object(j.a)(l.a.mark((function t(){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={chatId:e.props.match.params.chatId,content:{sender:e.props.user,message:e.state.currentMessage}},t.next=3,Te.emit("send_message",n);case 3:e.setState({messageList:[].concat(Object(r.a)(e.state.messageList),[n.content]),currentMessage:""},(function(){e.scrollToBottom()}));case 4:case"end":return t.stop()}}),t)}))),e}return Object(ye.a)(n,[{key:"componentDidMount",value:function(){var e=this;Te=Fe()("".concat(Be));var t=this.props.match.params.chatId;Ee.a.get("".concat(Be,"/api/messages/").concat(t)).then((function(t){e.setState({loading:!1,messageList:t.data},(function(){e.scrollToBottom()}))})),Te.emit("join_chat",t),Te.on("receive_message",(function(t){console.log("Got data",t),e.setState({messageList:[].concat(Object(r.a)(e.state.messageList),[t])},(function(){e.scrollToBottom()}))}))}},{key:"render",value:function(){var e=this,t=this.state,n=(t.loading,t.messageList),c=this.props.user;return c?Object(x.jsx)("div",{children:Object(x.jsxs)("div",{className:"chatpages-body",children:[Object(x.jsx)("h3",{children:"You're in the Chat Page "}),Object(x.jsxs)("div",{className:"chatContainer",children:[Object(x.jsxs)("div",{className:"messages",children:[n.map((function(e){return Object(x.jsx)("div",{className:"messageContainer",id:e.sender.username===c.username?"You":"Other",children:Object(x.jsxs)("div",{className:"messageIndividual",children:[e.sender.username,": ",e.message]})},e._id)})),Object(x.jsx)("div",{style:{float:"left",clear:"both"},ref:function(t){e.messagesEnd=t}})]}),Object(x.jsxs)("div",{className:"messageInputs",children:[Object(x.jsx)("input",{value:this.state.currentMessage,type:"text",placeholder:"Message...",onChange:this.handleMessageInput}),Object(x.jsx)("button",{onClick:this.sendMessage,children:"Send"})]})]})]})}):Object(x.jsx)("h1",{children:"Loading"})}}]),n}(c.Component),Re=function(e){Object(Ne.a)(n,e);var t=Object(we.a)(n);function n(){var e;Object(ve.a)(this,n);for(var c=arguments.length,a=new Array(c),i=0;i<c;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).handleChatClick=function(t){var n=e.props.user;if(n){var c={participants:[t,n._id]};Ee.a.post("".concat(Be,"/api/conversation"),c,{withCredentials:!0}).then((function(t){e.props.history.push("/chat/".concat(t.data._id))}))}else e.props.history.push("/signin")},e}return Object(ye.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.users,c=t.user,a=n;return c?(c&&(a=n.filter((function(e){return e._id!==c._id}))),Object(x.jsx)("div",{id:"chatlist-main",children:Object(x.jsx)("div",{className:"chatlist-body",children:a.map((function(t){return Object(x.jsxs)("div",{id:"listOfUsers",children:[Object(x.jsx)("img",{src:t.profilePic,alt:t.name}),Object(x.jsxs)("div",{id:"inside-user",children:[Object(x.jsx)("p",{children:t.username}),Object(x.jsx)("button",{onClick:function(){e.handleChatClick(t._id)},children:"Chat"})]})]})}))})})):Object(x.jsx)("h1",{children:"Loading"})}}]),n}(c.Component),We=function(e){var t=e.loggedInUser,n=e.onEdit,a=(e.fetchingUser,e.onDelete),i=Object(c.useState)(t),s=Object(h.a)(i,2),r=s[0],o=s[1],l=function(e){return o(Object(u.a)(Object(u.a)({},r),{},Object(d.a)({},e.currentTarget.name,e.currentTarget.value)))};return t?(console.log(e),Object(x.jsx)(be.a,{className:"center",style:{width:"80%"},fixed:!0,children:Object(x.jsxs)(p.a,{className:"centerBlock",container:!0,spacing:2,children:[Object(x.jsxs)("h1",{children:["Hello @",t.username]}),Object(x.jsx)("h3",{children:"Here you can edit your profile."}),Object(x.jsx)("form",{onSubmit:n,className:"form-center",noValidate:!0,autoComplete:"off",children:Object(x.jsxs)("div",{className:"centerGrid",children:[Object(x.jsxs)(p.a,{className:"imgDisplay",item:!0,xs:6,children:[Object(x.jsx)("div",{className:"centerImg",children:Object(x.jsx)("img",{id:"file-ip-prev"})}),Object(x.jsxs)("div",{className:"inputUpload",children:[Object(x.jsx)("label",{for:"file-ip",children:"Upload Image"}),Object(x.jsx)("input",{onChange:function(e){if(e.target.files.length>0){var t=URL.createObjectURL(e.target.files[0]),n=document.getElementById("file-ip-prev");n.src=t,n.style.display="block"}},name:"profilePic",id:"file-ip",type:"file",accept:"image/jpeg, image/png"})]})]}),Object(x.jsxs)(p.a,{className:"infoGrid",item:!0,xs:6,children:[Object(x.jsxs)("div",{className:"labelLigne",children:[Object(x.jsx)(oe.a,{name:"username",type:"text",onChange:l,value:r.username}),Object(x.jsx)(oe.a,{name:"description",type:"text",onChange:l,value:r.description}),Object(x.jsx)(oe.a,{name:"country",type:"text",onChange:l,value:r.country}),Object(x.jsxs)("div",{id:"experience",children:[Object(x.jsx)("label",{for:"experience",className:"form-label",id:"marginText",children:"My experience"}),Object(x.jsxs)("select",{name:"experience",id:"experience",className:"form-select",children:[Object(x.jsx)("option",{value:"Student",children:"Student"}),Object(x.jsx)("option",{value:"Junior 0-2 years of experience",children:"Junior 0-2 years of experience"}),Object(x.jsx)("option",{value:"Senior 2+ years",children:"Senior 2+ years"})]})]}),Object(x.jsxs)("div",{id:"skills",children:[Object(x.jsx)("label",{for:"skills",className:"form-label",id:"marginText",children:"My Skills"}),Object(x.jsxs)("select",{name:"skills",id:"skills",className:"form-select",children:[Object(x.jsx)("option",{value:"HTML",children:"HTML"}),Object(x.jsx)("option",{value:"CSS",children:"CSS"}),Object(x.jsx)("option",{value:"JavaScript",children:"JavaScript"}),Object(x.jsx)("option",{value:"React",children:"React"}),Object(x.jsx)("option",{value:"Angular",children:"Angular"}),Object(x.jsx)("option",{value:"other",children:"Other"})]})]})]}),Object(x.jsx)(m.a,{className:"my-btn",type:"submit",variant:"contained",children:"Save"})]})]})}),Object(x.jsx)(m.a,{className:"my-btn",onClick:a,variant:"contained",children:"Delete your account"})]})})):Object(x.jsx)("h1",{children:"Loading"})},Ge=n(236),Ae=(n(230),n(297)),Je=n(84),Ve=n.n(Je),Ye=Object(g.a)((function(e){var t;return{search:(t={position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(f.b)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(f.b)(e.palette.common.white,.25)},marginRight:e.spacing(2),marginLeft:0,width:"100%"},Object(d.a)(t,e.breakpoints.up("sm"),{marginLeft:e.spacing(3),width:"auto"}),Object(d.a)(t,"border","solid"),t),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(d.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:"20ch"})}}));var qe=function(e){var t=Ye(),n=e.onSearch;return Object(x.jsx)(p.a,{className:"searchBox",container:!0,spacing:3,children:Object(x.jsx)(p.a,{item:!0,xs:10,children:Object(x.jsxs)("div",{className:t.search,children:[Object(x.jsx)("div",{className:t.searchIcon,children:Object(x.jsx)(Ve.a,{})}),Object(x.jsx)(Ae.a,{onChange:n,placeholder:"Search\u2026",classes:{root:t.inputRoot,input:t.inputInput},inputProps:{"aria-label":"search"}})]})})})},He=Object(g.a)((function(e){return{root:{flexGrow:1,margin:75},paper:{padding:e.spacing(0),color:e.palette.text.secondary,width:270},grid:{display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden",borderRadius:10},image:{width:"100%",height:200,top:0,left:0},h3:{margin:5,color:e.palette.text.secondary}}}));var ze=function(e){var t=He(),n=e.projects,c=e.onSearch;return n?Object(x.jsxs)("div",{style:{marginTop:50},children:[Object(x.jsx)(qe,{onSearch:c}),Object(x.jsx)("div",{className:t.root,children:Object(x.jsx)(p.a,{container:!0,spacing:5,children:n.map((function(e){var n;return Object(x.jsx)(p.a,{className:t.grid,item:!0,xs:12,sm:6,md:4,lg:3,children:Object(x.jsx)(Ge.a,{className:t.paper,children:Object(x.jsxs)(F.b,{to:"/project/".concat(e._id),children:[Object(x.jsx)("img",{className:t.image,src:e.image,alt:e.image}),Object(x.jsx)(W.a,{}),Object(x.jsxs)("div",{children:[Object(x.jsx)("h3",{className:t.h3,children:e.title}),Object(x.jsxs)("p",{className:t.h3,children:["by: ",null===(n=e.user)||void 0===n?void 0:n.username]})]})]})})})}))})})]}):Object(x.jsx)("p",{children:"Loading . . ."})};n(231);var Ke=function(e){var t=e.projects,n=e.onDelete,a=e.allUser,i=e.user,s=Object(c.useState)(null),r=Object(h.a)(s,2),o=r[0],l=r[1],j=function(){var t=e.match.params.id;Ee.a.get("".concat(Be,"/api/project/").concat(t),{withCredentials:!0}).then((function(e){console.log(e.data),l(e.data)})).catch((function(){console.log("Detail fetch failed")}))};if(Object(c.useEffect)((function(){j()}),[]),Object(c.useEffect)((function(){console.log(o),o&&e.match.params.id==o._id||j()})),!o)return Object(x.jsx)("h1",{children:"Loading"});var d=t.filter((function(e){return e.user._id==i._id})).filter((function(e){return e._id!=o._id})),u=a.filter((function(e){return e._id==o.user._id}))[0];return console.log(u),console.log(o.user.profilePic),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(be.a,{className:"container",style:{width:"50%"},fixed:!0,children:Object(x.jsxs)(p.a,{container:!0,spacing:8,children:[Object(x.jsxs)(p.a,{className:"item",item:!0,xs:12,children:[Object(x.jsx)("img",{className:"profilePic",src:o.user.profilePic,alt:o.user.username}),Object(x.jsxs)("div",{className:"info",children:[Object(x.jsx)("h2",{children:o.title}),Object(x.jsx)("span",{children:Object(x.jsx)(F.b,{className:"link",to:"/user/".concat(o.user._id),children:o.user.username})}),", ",Object(x.jsx)("span",{children:o.date})," ",Object(x.jsx)("span",{children:o.user.country})]})]}),Object(x.jsx)(p.a,{item:!0,xs:12,children:Object(x.jsx)("img",{className:"image",src:o.image,alt:o.title})}),Object(x.jsxs)(p.a,{item:!0,xs:12,children:[Object(x.jsx)(W.a,{}),Object(x.jsx)("h3",{children:"Description"}),Object(x.jsx)("p",{children:o.description})]}),Object(x.jsxs)("div",{className:"btnBoxDetail",children:[Object(x.jsx)(F.b,{className:"editLink",to:"/project-edit/".concat(o._id),children:"Edit"}),Object(x.jsx)("button",{onClick:function(){n(o._id)},className:"deleteBtn",children:"Delete"})]})]})}),Object(x.jsx)(be.a,{className:"containerBottom",style:{width:"80%"},fixed:!0,children:Object(x.jsxs)(p.a,{container:!0,spacing:8,children:[Object(x.jsx)(p.a,{item:!0,xs:12,children:Object(x.jsxs)("div",{className:"lineBox",children:[Object(x.jsx)("span",{className:"spanLine"}),Object(x.jsxs)("h2",{className:"moreProject",children:["More project by ",Object(x.jsx)(F.b,{className:"link",to:"/user/".concat(o.user._id),children:Object(x.jsx)("span",{className:"profileLink",children:o.user.username})})]}),Object(x.jsx)("span",{className:"spanLine"})]})}),d.map((function(e){return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)(p.a,{className:"box",item:!0,xs:12,sm:12,md:6,lg:4,children:[Object(x.jsx)("div",{className:"imgBox",children:Object(x.jsx)("img",{className:"imgProject",src:e.image,alt:e.image})}),Object(x.jsx)(F.b,{className:"link",to:"/project/".concat(e._id),children:Object(x.jsx)("div",{className:"details",children:Object(x.jsx)("div",{className:"content",children:Object(x.jsx)("h2",{children:e.title})})})})]},e._id)})}))]})})]})};var Qe=function(e){var t=e.onEdit,n=e.projects,a=Object(c.useState)({}),i=Object(h.a)(a,2),s=(i[0],i[1],e.match.params.id),r=n.filter((function(e){return s==e._id})),o=r[0];return console.log(r),Object(x.jsx)(be.a,{className:"center",style:{width:"80%"},fixed:!0,children:Object(x.jsxs)(p.a,{className:"centerBlock",container:!0,spacing:2,children:[Object(x.jsx)("h1",{children:"Update your Project"}),Object(x.jsx)("form",{onSubmit:function(e){return t(e,s)},children:Object(x.jsxs)("div",{className:"centerGrid",children:[Object(x.jsxs)(p.a,{className:"imgDisplay",item:!0,xs:6,children:[Object(x.jsx)("div",{className:"centerImg",children:Object(x.jsx)("img",{id:"file-ip-prev"})}),Object(x.jsxs)("div",{className:"inputUpload",children:[Object(x.jsx)("label",{for:"file-ip",children:"Upload Image"}),Object(x.jsx)("input",{onChange:function(e){if(e.target.files.length>0){var t=URL.createObjectURL(e.target.files[0]),n=document.getElementById("file-ip-prev");n.src=t,n.style.display="block"}},name:"image",id:"file-ip",type:"file",accept:"image/jpeg, image/png"})]})]}),Object(x.jsx)(p.a,{className:"infoGrid",item:!0,xs:6,children:Object(x.jsxs)("div",{className:"labelLigne",children:[Object(x.jsx)("label",{for:"title",children:"Title"}),Object(x.jsx)("input",{name:"title",id:"title",type:"text",placeholder:"Project title",defaultValue:o.title}),Object(x.jsx)("label",{for:"type",children:"Type"}),Object(x.jsx)("input",{name:"type",id:"type",type:"text",placeholder:"Enter type",defaultValue:o.type}),Object(x.jsx)("label",{for:"description",children:"Description"}),Object(x.jsx)("textarea",{name:"description",id:"description",type:"text",placeholder:"Project description",defaultValue:o.description}),Object(x.jsx)("div",{children:Object(x.jsx)("button",{type:"submit",children:"Save"})})]})})]})})]})})};var Xe=function(e){var t=Object(c.useState)(null),n=Object(h.a)(t,2),a=n[0],i=n[1],s=e.projects,r=e.onFollow,o=e.loggedInUser,l=e.onUnfollow;if(Object(c.useEffect)((function(){var t=e.match.params.id;console.log(e.match),Ee.a.get("".concat(Be,"/api/user/").concat(t),{withCredentials:!0}).then((function(e){console.log(e.data),i(e.data)})).catch((function(){console.log("Detail fetch failed")}))}),[]),!a)return Object(x.jsx)("h1",{children:"Loading"});if(!s)return Object(x.jsx)("p",{children:"Loading . . ."});var j=s.filter((function(e){return e.user._id==a._id}));return Object(x.jsxs)("div",{children:[Object(x.jsxs)("div",{children:[Object(x.jsx)("img",{src:a.profilePic,alt:a.username}),Object(x.jsx)("h1",{children:a.username}),Object(x.jsx)("p",{children:a.description}),o.follow.includes(a._id)?Object(x.jsx)("button",{onClick:function(){return l(a._id)},children:"unfollow"}):Object(x.jsx)("button",{onClick:function(){return r(a._id)},children:"follow"})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("h2",{children:"projects"}),j.map((function(e){return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)(p.a,{className:"box",item:!0,xs:12,sm:12,md:6,lg:4,children:[Object(x.jsx)("div",{className:"imgBox",children:Object(x.jsx)("img",{className:"imgProject",src:e.image,alt:e.image})}),Object(x.jsx)(F.b,{className:"link",to:"/project/".concat(e._id),children:Object(x.jsx)("div",{className:"details",children:Object(x.jsx)("div",{className:"content",children:Object(x.jsx)("h2",{children:e.title})})})})]},e._id)})}))]})]})};n(232);var Ze=function(e){e.onEdit;var t=e.onChoose;return e.match.params.id,Object(x.jsxs)("div",{className:"body",children:[Object(x.jsx)("div",{className:"boxLeft",children:Object(x.jsx)("div",{className:"miniBoxLeft",children:Object(x.jsx)("div",{className:"overlay",children:Object(x.jsx)("form",{onSubmit:function(){return t("Workfluencer")},children:Object(x.jsx)("button",{type:"submit",className:"overlay-link",children:"Web dev"})})})})}),Object(x.jsx)("div",{className:"boxRight",children:Object(x.jsx)("div",{className:"miniBoxRight",children:Object(x.jsx)("div",{className:"overlay",children:Object(x.jsx)("form",{onSubmit:function(){return t("Recruiter")},children:Object(x.jsx)("button",{type:"submit",className:"overlay-link",children:"Recruiter"})})})})}),Object(x.jsxs)("span",{className:"are-you",children:[Object(x.jsx)("span",{className:"are",children:"Are"}),Object(x.jsx)("span",{className:"you",children:"You"})]})]})},$e=function(e){var t=e.loggedInUser,n=e.onEdit,a=e.onDelete,i=Object(c.useState)(t),s=Object(h.a)(i,2),r=s[0],o=s[1],l=function(e){return o(Object(u.a)(Object(u.a)({},r),{},Object(d.a)({},e.currentTarget.name,e.currentTarget.value)))};return t?(console.log(e),Object(x.jsx)(be.a,{className:"center",style:{width:"80%"},fixed:!0,children:Object(x.jsxs)(p.a,{className:"centerBlock",container:!0,spacing:2,children:[Object(x.jsxs)("h1",{children:["Hello @",t.username]}),Object(x.jsx)("h3",{children:"Manage your security"}),Object(x.jsx)("form",{onSubmit:n,className:"form-center",noValidate:!0,autoComplete:"off",children:Object(x.jsx)("div",{className:"centerGrid",children:Object(x.jsxs)(p.a,{className:"infoGrid",item:!0,xs:6,children:[Object(x.jsxs)("div",{className:"labelLigne",children:[Object(x.jsx)(oe.a,{name:"username",type:"text",onChange:l,value:r.username}),Object(x.jsx)(oe.a,{name:"password",type:"password",onChange:l,value:r.password}),Object(x.jsx)(oe.a,{name:"country",type:"text",onChange:l,value:r.country})]}),Object(x.jsx)(m.a,{className:"my-btn",type:"submit",variant:"contained",children:"Save"})]})})}),Object(x.jsx)(m.a,{className:"my-btn",onClick:a,variant:"contained",children:"Delete your account"})]})})):Object(x.jsx)("h1",{children:"Loading"})};var et=Object(b.f)((function(e){var t=Object(c.useState)(null),n=Object(h.a)(t,2),a=n[0],i=n[1],s=Object(c.useState)([]),o=Object(h.a)(s,2),p=o[0],m=o[1],g=Object(c.useState)([]),f=Object(h.a)(g,2),v=f[0],y=f[1],N=Object(c.useState)([]),w=Object(h.a)(N,2),k=w[0],C=w[1],S=Object(c.useState)(null),L=Object(h.a)(S,2),I=L[0],_=L[1],U=Object(c.useState)(!0),D=Object(h.a)(U,2),E=D[0],B=D[1],P=Object(c.useState)(!0),F=Object(h.a)(P,2),T=(F[0],F[1]),R=Object(c.useState)(null),W=Object(h.a)(R,2),G=W[0],A=W[1],J=Object(c.useState)(!1),V=Object(h.a)(J,2),Y=V[0],q=V[1];Object(c.useEffect)((function(){Ee.a.get("".concat(Be,"/api/trends"),{withCredentials:!0}).then((function(e){y(e.data),C(e.data)})).catch((function(e){console.log("Fecthing failed")})),H(),z()}),[]),Object(c.useEffect)((function(){"signin"===G?e.history.push("/signin"):""===G?e.history.push("/"):"afterSignIn"===G?a.userType?e.history.push("/profile"):e.history.push("/choice-page"):"profile"===G&&e.history.push("/profile")}),[e.history,G]),Object(c.useEffect)((function(){1==Y&&(e.history.push("/profile"),q(!1))}),[Y]);var H=function(){Ee.a.get("".concat(Be,"/api/profile"),{withCredentials:!0}).then((function(e){i(e.data),B(!1)})).catch((function(e){console.log("user not logged in"),B(!1)}))},z=function(){Ee.a.get("".concat(Be,"/api/users"),{withCredentials:!0}).then((function(e){console.log(e.data),m(e.data)})).catch((function(e){console.log("user not logged in")}))},K=function(e){return i(Object(u.a)(Object(u.a)({},a),{},Object(d.a)({},e.currentTarget.name,e.currentTarget.value)))},Q=function(e){e.preventDefault();var t=e.target,n=t.username,c=t.email,a=t.password,s={username:n.value,email:c.value,password:a.value};Ee.a.post("".concat(Be,"/api/signup"),s,{withCredentials:!0}).then((function(e){i(e.data),A("signin")})).catch((function(e){_(e.response.data.errorMessage)}))},X=function(){var e=Object(j.a)(l.a.mark((function e(t){var n,c,a,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),n=t.target,c=n.email,a=n.password,s={email:c.value,password:a.value},Ee.a.post("".concat(Be,"/api/signin"),s,{withCredentials:!0}).then((function(e){i(e.data),_(null),A("afterSignIn")})).catch((function(e){_(e.response.data.errorMessage)}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Z=function(t){T(!0);var n=t.profileObj,c={firstName:n.givenName,lastName:n.familyName,email:n.email,image:n.imageUrl,googleId:n.googleId};console.log(t.profileObj),Ee.a.post("".concat(Be,"/api/google/info"),c,{withCredentials:!0}).then((function(t){i(t.data.data),_(null),T(!1),e.history.push("/profile")}))},$=function(e){console.log(e)},ee=function(t){T(!0),Ee.a.post("".concat(Be,"/api/linkedin/info"),{code:t.code},{withCredentials:!0}).then((function(t){i(t.data.data),_(null),T(!1),e.history.push("/signin")}))},te=function(e){console.log(e)},ne=function(e){e.preventDefault();var t=e.target.username.value,n=e.target.description.value,c=e.target.country.value,a=e.target.experience.value,s=e.target.skills.value;if(0==e.target.profilePic.files.length)Ee.a.patch("".concat(Be,"/api/settings"),{username:t,description:n,country:c,experience:a,skills:s},{withCredentials:!0}).then((function(e){i(e.data)})).catch((function(e){return _(e.response.data)}));else{var r=e.target.profilePic.files[0],o=new FormData;o.append("imageUrl",r),Ee.a.post("".concat(Be,"/api/upload"),o).then((function(e){return Ee.a.patch("".concat(Be,"/api/settings"),{username:t,description:n,country:c,experience:a,profilePic:e.data.image},{withCredentials:!0})})).then((function(e){i(e.data)})).catch((function(e){return _(e.response.data)}))}},ce=function(e){e.preventDefault();var t=e.target.username.value,n=e.target.password.value,c=e.target.country.value;Ee.a.patch("".concat(Be,"/api/security"),{username:t,password:n,country:c},{withCredentials:!0}).then((function(e){i(e.data)})).catch((function(e){return _(e.response.data)}))},ae=function(t){t.preventDefault(),Ee.a.delete("".concat(Be,"/api/settings"),{withCredentials:!0}).then((function(){i(null),e.history.push("/")})).catch((function(){console.log("delete user failed")}))},ie=function(e){e.preventDefault();var t=e.target.title.value,n=e.target.type.value,c=e.target.description.value,a=e.target.image.files[0],i=new FormData;i.append("imageUrl",a),Ee.a.post("".concat(Be,"/api/upload"),i).then((function(e){return Ee.a.post("".concat(Be,"/api/project-create"),{title:t,type:n,description:c,image:e.data.image},{withCredentials:!0})})).then((function(e){y([e.data].concat(Object(r.a)(v))),C([e.data].concat(Object(r.a)(k))),q(!0)})).catch((function(){console.log("Image upload failed")}))},re=function(e,t){e.preventDefault();var n=e.target.title.value,c=e.target.type.value,a=e.target.description.value;if(0==e.target.image.files.length)Ee.a.patch("".concat(Be,"/api/project/").concat(t),{title:n,type:c,description:a},{withCredentials:!0}).then((function(e){var n=v.map((function(n){return t==n._id?e.data:n}));y(n),q(!0)})).catch((function(){console.log("Edit project failed")}));else{var i=e.target.image.files[0],s=new FormData;s.append("imageUrl",i),Ee.a.post("".concat(Be,"/api/upload"),s).then((function(e){return Ee.a.patch("".concat(Be,"/api/project/").concat(t),{title:n,type:c,description:a,image:e.data.image},{withCredentials:!0})})).then((function(e){var n=v.map((function(n){return t==n._id?e.data:n}));y(n),q(!0)})).catch((function(){console.log("Edit project failed")}))}},oe=function(e){B(!0),Ee.a.patch("".concat(Be,"/api/type"),{userType:e},{withCredentials:!0}).then((function(e){B(!1),i(e.data),A("profile")})).catch((function(){console.log("Edit project failed"),B(!1)}))},le=function(e){Ee.a.delete("".concat(Be,"/api/project/").concat(e),{withCredentials:!0}).then((function(){var t=v.filter((function(t){return t._id!==e}));y(t),q(!0)})).catch((function(e){console.log("Delete failed",e)}))},je=function(e){var t=e.target.value;console.log(t);var n=v.filter((function(e){return e.title.toLowerCase().includes(t.toLowerCase())}));C(n)},de=function(e){Ee.a.patch("".concat(Be,"/api/follow"),{follow:e},{withCredentials:!0}).then((function(e){console.log(e),i(e.data)})).catch((function(){console.log("Edit project failed")}))},ue=function(e){console.log(e),Ee.a.patch("".concat(Be,"/api/unfollow"),{unfollow:e},{withCredentials:!0}).then((function(e){console.log(e),i(e.data)})).catch((function(){console.log("Edit project failed")}))};return E?Object(x.jsx)("h1",{children:"Loading"}):Object(x.jsxs)("div",{className:"App",children:[Object(x.jsx)(M,{onLogout:function(){Ee.a.post("".concat(Be,"/api/logout"),{},{withCredentials:!0}).then((function(){i(null),A("")})).catch((function(e){_(e.response.data)}))},user:a}),Object(x.jsxs)(b.c,{children:[Object(x.jsx)(b.a,{exact:!0,path:"/",render:function(e){return Object(x.jsx)(O,Object(u.a)({user:a},e))}}),Object(x.jsx)(b.a,{exact:!0,path:"/userslist",render:function(e){return Object(x.jsx)(Re,Object(u.a)({users:p,user:a},e))}}),Object(x.jsx)(b.a,{path:"/signup",render:function(e){return Object(x.jsx)(_e,Object(u.a)({error:I,onSubmit:Q,onGoogleFailure:$,onGoogleSuccess:Z,onLinkedInSuccess:ee,onLinkedInFailure:te},e))}}),Object(x.jsx)(b.a,{path:"/signin",render:function(e){return Object(x.jsx)(xe,Object(u.a)({error:I,onSignIn:X},e))}}),Object(x.jsx)(b.a,{exact:!0,path:"/profile",render:function(e){return Object(x.jsx)(se,Object(u.a)({user:a,projects:v,allUsers:p},e))}}),Object(x.jsx)(b.a,{exact:!0,path:"/settings",render:function(e){return Object(x.jsx)(We,Object(u.a)({onEdit:ne,loggedInUser:a,onDelete:ae,onChange:K},e))}}),Object(x.jsx)(b.a,{exact:!0,path:"/security",render:function(e){return Object(x.jsx)($e,Object(u.a)({onEdit:ce,loggedInUser:a,fetchingUser:H,onChange:K},e))}}),Object(x.jsx)(b.a,{exact:!0,path:"/project-create",render:function(e){return Object(x.jsx)(Ue,Object(u.a)({onAdd:ie},e))}}),Object(x.jsx)(b.a,{exact:!0,path:"/trends",render:function(e){return Object(x.jsx)(ze,Object(u.a)({onSearch:je,projects:k},e))}}),Object(x.jsx)(b.a,{exact:!0,path:"/project/:id",render:function(e){return Object(x.jsx)(Ke,Object(u.a)({projects:v,user:a,allUser:p,onDelete:le},e))}}),Object(x.jsx)(b.a,{exact:!0,path:"/project-edit/:id",render:function(e){return Object(x.jsx)(Qe,Object(u.a)({onEdit:re,projects:v},e))}}),Object(x.jsx)(b.a,{path:"/chat/:chatId",render:function(e){return Object(x.jsx)(Me,Object(u.a)({user:a},e))}}),Object(x.jsx)(b.a,{exact:!0,path:"/user/:id",render:function(e){return Object(x.jsx)(Xe,Object(u.a)({projects:v,loggedInUser:a,onFollow:de,onUnfollow:ue},e))}}),Object(x.jsx)(b.a,{exact:!0,path:"/choice-page",render:function(e){return Object(x.jsx)(Ze,Object(u.a)({onChoose:oe},e))}})]})]})}));s.a.render(Object(x.jsx)(a.a.StrictMode,{children:Object(x.jsx)(F.a,{children:Object(x.jsx)(et,{})})}),document.getElementById("root"))}},[[233,1,2]]]);
//# sourceMappingURL=main.2ec5835c.chunk.js.map